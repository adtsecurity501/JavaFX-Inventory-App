/* Flagged & WIP Row (Warning/Attention) */
.flagged-row .table-cell,
.wip-row .table-cell {
    -fx-background-color: -color-warning-emphasis;
    -fx-text-fill: -color-fg-on-emphasis; /* Use a static high-contrast color */
}

/* Disposal/EOL Row (Danger) */
.disposal-row .table-cell {
    -fx-background-color: -color-danger-emphasis;
    -fx-text-fill: -color-fg-on-emphasis; /* Use a static high-contrast color */
}

/* Processed Row (Accent/Info) */
.processed-row .table-cell {
    -fx-background-color: -color-accent-emphasis;
    -fx-text-fill: -color-fg-on-emphasis; /* Use a static high-contrast color */
}

/* Shipped Row (Success) */
.shipped-row .table-cell {
    -fx-background-color: -color-success-emphasis;
    -fx-text-fill: -color-fg-on-emphasis; /* Use a static high-contrast color */
}

/* ========================================================================== */
/* INTERACTIVE TABLE ROW STYLES ---                               */
/* ========================================================================== */

/*
 * This style applies a subtle background color when hovering over
 * any standard (non-status-colored) data row.
 */
.table-row-cell:filled:hover {
    -fx-background-color: -color-bg-inset;
}

/*
 * This style applies a high-contrast border highlight when hovering
 * over a status-colored row, preserving the status color itself.
 */
.flagged-row:hover .table-cell,
.wip-row:hover .table-cell,
.disposal-row:hover .table-cell,
.processed-row:hover .table-cell,
.shipped-row:hover .table-cell {
    /* --- THIS IS THE DEFINITIVE FIX --- */
    /*
     * Instead of using the ambiguous '-fx-border-color' shorthand, we
     * explicitly define the color for only the sides that have a width.
     * This is the most robust way to declare complex borders and avoids
     * the JavaFX CSS parser bug.
     */
    -fx-border-width: 2 0 2 0; /* (top right bottom left) */
    -fx-border-top-color: -color-fg-on-emphasis;
    -fx-border-bottom-color: -color-fg-on-emphasis;
}

/* ========================================================================== */
/* TABLEVIEW ROW STYLING ---                                        */
/* ========================================================================== */

.table-row-cell,
.fixed-row-size .table-row-cell {
    -fx-cell-size: 35px;
}

/*
 * These rules ensure that the custom colors override the theme's default
 * striping for BOTH even and odd rows.
 */
.flagged-row:odd .table-cell,
.wip-row:odd .table-cell {
    -fx-background-color: -color-warning-emphasis;
}

.disposal-row:odd .table-cell {
    -fx-background-color: -color-danger-emphasis;
}

.processed-row:odd .table-cell {
    -fx-background-color: -color-accent-emphasis;
}

.shipped-row:odd .table-cell {
    -fx-background-color: -color-success-emphasis;
}


/* ========================================================================== */
/* WIDER SCROLLBARS FOR BETTER USABILITY ---                  */
/* ========================================================================== */

.scroll-bar:vertical > .track-background {
    -fx-pref-width: 16;
}

.scroll-bar:vertical > .thumb {
    -fx-pref-width: 12;
}

/* ========================================================================== */
/* TYPOGRAPHY AND UI STYLES ---                                     */
/* ========================================================================== */

.kpi-title {
    -fx-font-size: 14px;
    -fx-font-weight: bold;
    -fx-text-fill: -color-fg-muted;
}

.kpi-metric {
    -fx-font-size: 36px;
    -fx-font-weight: bold;
}

/* ========================================================================== */
/* CUSTOM TITLE BAR STYLES ---                                      */
/* ========================================================================== */

.title-bar {
    -fx-background-color: -color-bg-subtle;
    -fx-pref-height: 30px;
    -fx-alignment: center-left;
}

.title-bar-text {
    -fx-font-size: 14px;
    -fx-text-fill: -color-fg-default;
    -fx-font-weight: bold;
}

.window-button {
    -fx-background-color: transparent;
    -fx-background-radius: 0;
    -fx-padding: 8 15;
}

.window-button:hover {
    -fx-background-color: -color-bg-inset;
}

.window-close-button:hover {
    -fx-background-color: -color-danger-emphasis;
}

.window-icon {
    -fx-stroke: -color-fg-default;
    -fx-stroke-width: 1.5;
    -fx-fill: transparent;
    -fx-background-color: transparent;
}

.window-close-button:hover .window-icon {
    -fx-stroke: white;
}

/* ========================================================================== */
/* TOOL SELECTOR BAR STYLES (REWRITTEN FOR ROBUSTNESS & STYLE)              */
/* ========================================================================== */

.tool-bar {
    -fx-background-color: -color-bg-subtle;
    -fx-padding: 5px;
    -fx-background-radius: 6;
}

/*
 * This is the definitive fix for the layout jump bug.
 * The key is to ensure the button's border width is identical in all states.
 * We only change the COLOR of the border, not its size or existence.
 */
.tool-selector-button {
    -fx-font-size: 14px;
    -fx-cursor: hand;

    /* Lock the size */
    -fx-min-height: 40px;
    -fx-pref-height: 40px;
    -fx-max-height: 40px;

    /* Define a consistent border for the normal (unselected) state */
    -fx-border-width: 1px;
    -fx-border-color: -color-border-default;
    -fx-background-color: -color-bg-default;
}

/* Style for when the button is selected */
.tool-selector-button:selected {
    -fx-background-color: -color-accent-emphasis;
    -fx-text-fill: white;
    -fx-font-weight: bold;
    /* The border is still 1px wide, but now it matches the background,
       making it visually disappear while still occupying the same space. */
    -fx-border-color: -color-accent-emphasis;
}

/* Style for when any button gains focus */
.tool-selector-button:focused {
    -fx-border-color: -color-accent-emphasis; /* Use accent color for the focus ring */
}

/* A specific override to ensure a selected button's border doesn't change color on focus */
.tool-selector-button:selected:focused {
    -fx-border-color: -color-accent-emphasis;
}

/* Style for the Scan Update window's main container */
.scan-update-pane {
    -fx-background-color: -color-bg-default;
}

/* ========================================================================== */
/* IPAD PROVISIONING STYLES ---                                     */
/* ========================================================================== */

/* Style for rows that were automatically set to T-Mobile */.t-mobile-override-row .table-cell {
    -fx-background-color: -color-info-emphasis; /* A pleasant blue from the theme */
    -fx-text-fill: white; /* High contrast text */
}

/* This ensures the style persists on alternating (odd) rows */
.t-mobile-override-row:odd .table-cell {
    -fx-background-color: -color-info-emphasis;
}

/* ========================================================================== */
/* STATUS LABEL STYLING ---                                         */
/* ========================================================================== */

.status-label-success {
    -fx-text-fill: -color-success-fg;
}

.status-label-error {
    -fx-text-fill: -color-danger-fg;
}

/* Style for highlighting a table row when dragging over it */
.drag-over {
    -fx-background-color: -color-accent-emphasis-plus;
    -fx-cursor: move;
}

/* Add this new section anywhere in your file */
/* ========================================================================== */
/* AUTOCOMPLETE POPUP STYLES ---                                    */
/* ========================================================================== */

.autocomplete-popup .list-view {
    -fx-border-color: -color-border-default;
    -fx-border-width: 1;
    -fx-background-insets: 0;
    -fx-background-radius: 4;
}

.autocomplete-popup .list-cell {
    -fx-padding: 5 10;
}

.autocomplete-popup .list-cell:filled:hover,
.autocomplete-popup .list-cell:filled:selected {
    -fx-background-color: -color-accent-subtle;
    -fx-text-fill: -color-fg-default;
}